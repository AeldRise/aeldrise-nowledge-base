# Создание динамического меню на основе инфоблока Темы для новостей
## Требования
1. Должны быть созданы и заполнены инфоблоки Новости и Темы
2. Должна быть связь между инфоблоками
3. Должен быть настроен фильтр для новостей
4. Меню должно быть 2х или более уровневым

## Как сделать 
В папке `/news/` создается файл `.left.menu.php` со следующим кодом
```php
<?
//Чистим массив ссылок
$aMenuLinks = Array();
// Подключаем модуль
CModule::IncludeModule('iblock'); 
// Получаем все значения свойства "Тема" (TOPICS)
$topicsIBlockId = 2;

// Получаем все темы (элементы инфоблока) в порядке сортировки
$rsThemes = CIBlockElement::GetList(
    Array("SORT" => "ASC"), // сортировка
    Array("IBLOCK_ID" => $topicsIBlockId, "ACTIVE" => "Y"),
    false,
    false,
    Array("ID", "NAME", "CODE", "DETAIL_PAGE_URL")
);

while ($arTopics = $rsThemes->GetNext()) {
    // Формируем ссылку: /news/?topics={id}/
    $link = "/news/?topics=" . $arTopics["ID"] . "/";

    $aMenuLinks[] = Array(
        $arTopics["NAME"],           // название темы
        $link,                      // ссылка
        Array("/news/"),            // показывать в разделе /news/
        Array(
            "DEPTH_LEVEL" => 2      // уровень вложенности
        ),
        ""
    );
}
?>

```